{% extends "modelo.html" %}
{% block conteudo %}

<div class='container'>
    <div class='row justify-content-center text-center'>
        <h1 class='mb-3 display-4'>Cadastro de Produtos</h1>
        <form action='/cadastro' method='post' enctype='multipart/form-data' class='col-sm-10 col-md-8 col-lg-6 text-center needs-validation' novalidate>
            <div class='form-floating mb-2'>
                <input type='text' name='nome_prod' id='nome_prod' class='form-control' required placeholder="" autofocus />
                <label for='nome_prod'>Nome do Produto</label>
                <div class='invalid-feedback'>
                    Você Deve Informar O Nome Do Produto
                </div>
            </div>
            <div class='form-floating mb-2'>
                <textarea name='desc_prod' class='form-control' required placeholder='' style='height: 100px'></textarea>
                <div class='invalid-feedback'>
                    Você Deve Informar A Descrição Do Produto
                </div>
            </div>

            <div class='row'>
                <div class='col-12 col-md-5'>
                    <div class='input-group mb-2'>
                        <span class='input-group-text'>R$</span>
                        <div class='form-floating'>
                        <input type='text' name='preco_prod' class='form-control' required placeholder='' />
                        <label for='preco_prod'>Preço Do Produto</label>
                        <div class='invalid-feedback'>
                            Você Deve Informar O Preço Do Produto
                        </div>
                    </div>
                </div>
            </div>

            <div class='col-10 col-md-7'>
                <div class='input-group m2-3'>
                    <span class='input-group-text'><i class='bi bi-file-image'></i></span>
                    <div class='form-floating'>
                        <input type='file' name='img_prod' id='img_prod' accept='image/jpeg, image/png' required class='form-control' />
                        <div class='invalid-feedback'>
                            Você Deve Enviar A Foto Do Produto
                        </div>
                    </div>
                </div>
            </div>
            <div class='mx-auto'>
                <input type='submit' class='mt-3 btn btn-lg btn-outline-danger' value='Cadastrar' />
            </div>
        </form>
    </div>
</div>

<script>// Exemplo de JavaScript inicial para desabilitar envios de formulários se houver campos inválidos
    (() => {
      'use strict'
    
      // Busca todos os formulários aos quais queremos aplicar estilos de validação personalizados do Bootstrap
      const forms = document.querySelectorAll('.needs-validation')
    
      // Faça um loop sobre eles e evite o envio
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }
    
          form.classList.add('was-validated')
        }, false)
      })
    })()
</script>

{% endblock %}